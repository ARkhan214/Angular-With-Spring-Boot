<div class="water-bill-card">
  <h2>Water Bill Payment</h2>

  <!-- If you rely on alertService for global alerts, keep this area for inline messages if needed -->
  <!-- <p class="info" *ngIf="someInlineMessage">{{ someInlineMessage }}</p> -->

  <form [formGroup]="waterBillForm" (ngSubmit)="onSubmit()">
    
    <div class="form-row">
      <label for="companyName">Company Name</label>
      <input id="companyName" type="text" formControlName="companyName" placeholder="e.g. Dhaka WASA" />
      <div class="error" *ngIf="waterBillForm.get('companyName')?.touched && waterBillForm.get('companyName')?.hasError('required')">
        Company name is required.
      </div>
    </div>

    <div class="form-row">
      <label for="accountHolderBillingId">Account Holder / Billing ID</label>
      <input id="accountHolderBillingId" type="text" formControlName="accountHolderBillingId" placeholder="Enter billing ID / consumer number" />
      <div class="error" *ngIf="waterBillForm.get('accountHolderBillingId')?.touched && waterBillForm.get('accountHolderBillingId')?.hasError('required')">
        Billing ID is required.
      </div>
    </div>

    <div class="form-row">
      <label for="amount">Amount</label>
      <input id="amount" type="number" formControlName="amount" min="1" step="0.01" />
      <div class="error" *ngIf="waterBillForm.get('amount')?.touched">
        <span *ngIf="waterBillForm.get('amount')?.hasError('required')">Amount is required.</span>
        <span *ngIf="waterBillForm.get('amount')?.hasError('min')">Amount must be at least 1.</span>
      </div>
    </div>

    <div class="actions">
      <button type="submit" [disabled]="waterBillForm.invalid || !token" class="btn-primary">
        Pay Bill
      </button>

      <button type="button" (click)="resetForm()" class="btn-secondary">
        Reset
      </button>
    </div>

    <p class="note" *ngIf="!token">
      You are not logged in. Please login to make a payment.
    </p>
  </form>
</div>
